<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scroll Events</title>
  <style>
    #progress {
      border-bottom: 2px solid blue;
      width: 0;
      position: fixed;
      top: 0; left: 0;
    }
  </style>

</head>
<body>
  <!--
  Whenever an element is scrolled, a "scroll" event is fired on it.

  The following example draws a progress bar above the document and updates
  it to fill up as you scroll down:
  -->

  <div id="progress"></div>
  <script>
    // Create some content
    document.body.appendChild(document.createTextNode(
      "supercalifragilisticexpialidocious ".repeat(1000)));

    let bar = document.querySelector("#progress");
    window.addEventListener("scroll", () => {
      let max = document.body.scrollHeight - innerHeight;
      bar.style.width = `${(pageYOffset / max) * 100}%`;
    });
  </script>

  <!--
  The global innerHeight binding gives us the height of the window, which
  we have to subtract from the total scrollable height—you can’t keep scrolling
  when you hit the bottom of the document.

  There’s also an innerWidth for the window width.

  By dividing pageYOffset, the current scroll position, by the
  maximum scroll position and multiplying by 100, we get the percentage for the
  progress bar.

  Calling preventDefault on a scroll event does not prevent the scrolling from
  happening. In fact, the event handler is called only after the scrolling takes
  place.
  -->

</body>
</html>